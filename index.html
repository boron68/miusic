<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∏–º–æ–≤–∏–π –ú—É–∑–∏—á–Ω–∏–π –ü–ª–µ—î—Ä</title>
    <link rel="icon" type="image/png" href="classic_box_mega_pin.png">
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --dark: #0f3460;
            --light: #f5f7fa;
            --snow-blue: #4a90e2;
            --ice-blue: #74b9ff;
            --snow-white: #ffffff;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0c2461, #1e3799);
            color: var(--light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
            position: relative;
            overflow-x: hidden;
        }
        
        /* –°–ù–Ü–ì–û–ü–ê–î - –ì–æ–ª–æ–≤–Ω–∏–π –µ—Ñ–µ–∫—Ç */
        .snow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .snowflake {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
            filter: blur(0.5px);
            box-shadow: 0 0 10px white;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }
        
        @keyframes sway {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(50px); }
        }
        
        /* –ó–∏–º–æ–≤–∞ –≥—ñ—Ä–ª—è–Ω–¥–∞ */
        .winter-garland {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 20px;
            background: linear-gradient(90deg, 
                #4a90e2, #74b9ff, #ffffff, #74b9ff, #4a90e2);
            z-index: 999;
            opacity: 0.6;
            animation: garlandFlow 3s infinite linear;
            box-shadow: 0 2px 15px rgba(116, 185, 255, 0.5);
        }
        
        @keyframes garlandFlow {
            0% { background-position: 0 0; }
            100% { background-position: 100px 0; }
        }
        
        /* –Ø–ª–∏–Ω–∫–∞ */
        .christmas-tree {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 100px;
            height: 150px;
            z-index: 1;
            opacity: 0.7;
            pointer-events: none;
        }
        
        .tree-trunk {
            position: absolute;
            bottom: 0;
            left: 45px;
            width: 10px;
            height: 30px;
            background: #8B4513;
            border-radius: 2px;
        }
        
        .tree-level {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-bottom: 40px solid #27ae60;
        }
        
        .tree-level-1 { bottom: 30px; left: 25px; }
        .tree-level-2 { bottom: 55px; left: 25px; border-bottom-color: #2ecc71; }
        .tree-level-3 { bottom: 80px; left: 25px; border-bottom-color: #229954; }
        
        /* –¢–µ—Ö–Ω—ñ—á–Ω–∞ –ø–µ—Ä–µ—Ä–≤–∞ */
        .maintenance-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(12, 36, 97, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            flex-direction: column;
            text-align: center;
            padding: 1rem;
        }
        
        .maintenance-active .maintenance-overlay {
            display: flex;
        }
        
        .maintenance-content {
            background: rgba(12, 36, 97, 0.9);
            padding: 2rem;
            border-radius: 20px;
            border: 3px solid #74b9ff;
            max-width: 95%;
            width: 100%;
            box-shadow: 0 0 50px rgba(116, 185, 255, 0.5);
            backdrop-filter: blur(10px);
            position: relative;
        }
        
        .maintenance-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            color: #74b9ff;
            animation: float 3s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .status-indicator {
            position: fixed;
            top: 30px;
            right: 10px;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 10001;
            background: rgba(12, 36, 97, 0.8);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(116, 185, 255, 0.3);
        }
        
        .status-online {
            background: linear-gradient(90deg, #00b894, #27ae60);
            color: white;
        }
        
        .status-maintenance {
            background: linear-gradient(90deg, #74b9ff, #4a90e2);
            color: white;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            position: relative;
            z-index: 1;
            margin-top: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 1rem;
            position: relative;
            padding: 1.5rem;
            background: rgba(12, 36, 97, 0.4);
            border-radius: 20px;
            border: 2px solid rgba(116, 185, 255, 0.3);
            box-shadow: 0 0 30px rgba(116, 185, 255, 0.2);
            backdrop-filter: blur(5px);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(90deg, #4a90e2, #74b9ff, #ffffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .upload-section {
            background: rgba(116, 185, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(116, 185, 255, 0.3);
            box-shadow: 0 0 20px rgba(116, 185, 255, 0.1);
        }
        
        .upload-btn {
            display: inline-block;
            background: linear-gradient(90deg, #4a90e2, #74b9ff);
            color: white;
            padding: 14px 28px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            margin-top: 1rem;
            border: none;
            font-size: 1rem;
            width: 100%;
            max-width: 250px;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.4);
        }
        
        .upload-btn:hover {
            background: linear-gradient(90deg, #74b9ff, #4a90e2);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.6);
        }
        
        .player-section {
            background: rgba(116, 185, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(116, 185, 255, 0.3);
            box-shadow: 0 0 20px rgba(116, 185, 255, 0.2);
        }
        
        .progress-bar {
            height: 8px;
            background: linear-gradient(90deg, #4a90e2, #74b9ff, #ffffff);
            border-radius: 4px;
            width: 0%;
            transition: width 0.1s linear;
        }
        
        .playlist-section {
            background: rgba(116, 185, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(116, 185, 255, 0.3);
        }
        
        /* –°–Ω—ñ–≥–æ–≤–∏–π –Ω–∞–ø–∏—Å */
        .snow-title {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 0.9rem;
            z-index: 1000;
            background: rgba(0,0,0,0.3);
            padding: 5px 15px;
            border-radius: 20px;
            backdrop-filter: blur(5px);
        }
    </style>
</head>
<body>
    <!-- –°–ù–Ü–ì–û–ü–ê–î - –¢–£–¢ –í–Ü–ù -->
    <div class="snow-container" id="snowContainer"></div>
    
    <!-- –ó–∏–º–æ–≤–∞ –≥—ñ—Ä–ª—è–Ω–¥–∞ -->
    <div class="winter-garland"></div>
    
    <!-- –Ø–ª–∏–Ω–∫–∞ -->
    <div class="christmas-tree">
        <div class="tree-level tree-level-1"></div>
        <div class="tree-level tree-level-2"></div>
        <div class="tree-level tree-level-3"></div>
        <div class="tree-trunk"></div>
    </div>
    
    <!-- –°–Ω—ñ–≥–æ–≤–∏–π –Ω–∞–ø–∏—Å -->
    <div class="snow-title">‚ùÑÔ∏è –°–Ω—ñ–≥ —ñ–¥–µ! ‚òÉÔ∏è</div>

    <!-- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å—É -->
    <div class="status-indicator status-online" id="statusIndicator">
        ‚ùÑÔ∏è –û–Ω–ª–∞–π–Ω
    </div>

    <!-- –¢–µ—Ö–Ω—ñ—á–Ω–∞ –ø–µ—Ä–µ—Ä–≤–∞ -->
    <div class="maintenance-overlay" id="maintenanceOverlay">
        <div class="maintenance-content">
            <div class="maintenance-icon">‚ùÑÔ∏è‚òÉÔ∏è</div>
            <h1 style="color: #74b9ff; margin-bottom: 1rem;">–ó–ò–ú–û–í–ê –ü–ï–†–ï–†–í–ê</h1>
            <p style="color: #dfe6e9;">–°–Ω—ñ–≥–æ–≤–∏–π –ø–ª–µ—î—Ä —Ç–∏–º—á–∞—Å–æ–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π</p>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>üéµ –ó–∏–º–æ–≤–∏–π –ü–ª–µ—î—Ä ‚ùÑÔ∏è</h1>
            <p style="color: #74b9ff;">–°–Ω—ñ–≥–æ–≤–∞ –≤–µ—Ä—Å—ñ—è –∑ —Ä–µ–∞–ª—å–Ω–∏–º —Å–Ω—ñ–≥–æ–ø–∞–¥–æ–º!</p>
        </header>
        
        <section class="upload-section">
            <h2>–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –º—É–∑–∏–∫—É</h2>
            <p>–û–±–µ—Ä—ñ—Ç—å –∞—É–¥—ñ–æ—Ñ–∞–π–ª–∏ –∑ –≤–∞—à–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é</p>
            <input type="file" id="fileInput" accept="audio/*" multiple>
            <label for="fileInput" class="upload-btn">–û–±—Ä–∞—Ç–∏ —Ç—Ä–µ–∫–∏</label>
        </section>
        
        <section class="player-section">
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="font-size: 1.5rem; color: #74b9ff;">–û–±–µ—Ä—ñ—Ç—å —Ç—Ä–µ–∫ –∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞</div>
                <div style="color: #a29bfe;">---</div>
            </div>
            
            <div style="width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; margin: 1.5rem 0; cursor: pointer;">
                <div class="progress-bar"></div>
            </div>
            
            <div style="display: flex; justify-content: center; gap: 1.5rem; margin-top: 1.5rem;">
                <button id="prevBtn" style="background: rgba(12,36,97,0.5); border: 2px solid #74b9ff; color: #74b9ff; font-size: 1.5rem; cursor: pointer; width: 55px; height: 55px; border-radius: 50%;">‚èÆ</button>
                <button id="playBtn" style="background: linear-gradient(135deg, #4a90e2, #74b9ff); border: none; font-size: 1.8rem; width: 70px; height: 70px; color: white; border-radius: 50%; cursor: pointer;">‚ñ∂</button>
                <button id="nextBtn" style="background: rgba(12,36,97,0.5); border: 2px solid #74b9ff; color: #74b9ff; font-size: 1.5rem; cursor: pointer; width: 55px; height: 55px; border-radius: 50%;">‚è≠</button>
            </div>
        </section>
        
        <section class="playlist-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3 style="color: #74b9ff;">‚òÉÔ∏è –ü–ª–µ–π–ª–∏—Å—Ç</h3>
                <button id="clearBtn" style="background: linear-gradient(90deg, #4a90e2, #74b9ff); color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer;">–û—á–∏—Å—Ç–∏—Ç–∏</button>
            </div>
            <ul id="playlist" style="list-style: none; max-height: 300px; overflow-y: auto;">
                <li style="text-align: center; padding: 2rem; color: #74b9ff;">–ü–ª–µ–π–ª–∏—Å—Ç –ø–æ—Ä–æ–∂–Ω—ñ–π. –î–æ–¥–∞–π—Ç–µ —Ç—Ä–µ–∫–∏! ‚ùÑÔ∏è</li>
            </ul>
        </section>
    </div>

    <script>
        // 1. –°–ü–û–ß–ê–¢–ö–£ –°–¢–í–û–†–Æ–Ñ–ú–û –°–ù–Ü–ì
        function createSnow() {
            const snowContainer = document.getElementById('snowContainer');
            
            // –°—Ç–≤–æ—Ä—é—î–º–æ 100 —Å–Ω—ñ–∂–∏–Ω–æ–∫
            for (let i = 0; i < 100; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                
                // –†–æ–∑–º—ñ—Ä —Å–Ω—ñ–∂–∏–Ω–∫–∏
                const size = Math.random() * 6 + 2; // –í—ñ–¥ 2px –¥–æ 8px
                snowflake.style.width = size + 'px';
                snowflake.style.height = size + 'px';
                
                // –ü–æ–∑–∏—Ü—ñ—è
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.top = -20 + 'px';
                
                // –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø–∞–¥—ñ–Ω–Ω—è
                const duration = Math.random() * 5 + 3; // –í—ñ–¥ 3 –¥–æ 8 —Å–µ–∫—É–Ω–¥
                const delay = Math.random() * 5; // –ó–∞—Ç—Ä–∏–º–∫–∞
                
                // –ê–Ω—ñ–º–∞—Ü—ñ—è –ø–∞–¥—ñ–Ω–Ω—è
                snowflake.style.animation = `fall ${duration}s linear infinite`;
                snowflake.style.animationDelay = delay + 's';
                
                // –î–æ–¥–∞—Ç–∫–æ–≤–µ –∫–æ–ª–∏–≤–∞–Ω–Ω—è
                snowflake.style.animation += `, sway ${duration * 2}s ease-in-out infinite`;
                snowflake.style.animationDelay += `, ${delay}s`;
                
                // –ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å
                snowflake.style.opacity = Math.random() * 0.7 + 0.3;
                
                // –î–æ–¥–∞—î–º–æ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É
                snowContainer.appendChild(snowflake);
            }
            
            console.log('‚ùÑÔ∏è –°–Ω—ñ–≥ —Å—Ç–≤–æ—Ä–µ–Ω–æ! –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–Ω—ñ–∂–∏–Ω–æ–∫: 100');
        }
        
        // –ó–∞–ø—É—Å–∫–∞—î–º–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–Ω—ñ–≥—É –æ–¥—Ä–∞–∑—É
        document.addEventListener('DOMContentLoaded', function() {
            createSnow();
            
            // –î–æ–¥–∞—î–º–æ —â–µ —Å–Ω—ñ–≥—É —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥–∏
            setTimeout(() => {
                for (let i = 0; i < 50; i++) {
                    const snowContainer = document.getElementById('snowContainer');
                    const snowflake = document.createElement('div');
                    snowflake.className = 'snowflake';
                    
                    const size = Math.random() * 5 + 1;
                    snowflake.style.width = size + 'px';
                    snowflake.style.height = size + 'px';
                    snowflake.style.left = Math.random() * 100 + 'vw';
                    snowflake.style.top = -20 + 'px';
                    
                    const duration = Math.random() * 7 + 4;
                    const delay = Math.random() * 3;
                    
                    snowflake.style.animation = `fall ${duration}s linear infinite`;
                    snowflake.style.animationDelay = delay + 's';
                    snowflake.style.opacity = Math.random() * 0.5 + 0.2;
                    
                    snowContainer.appendChild(snowflake);
                }
                console.log('‚ùÑÔ∏è –î–æ–¥–∞–Ω–æ —â–µ 50 —Å–Ω—ñ–∂–∏–Ω–æ–∫!');
            }, 2000);
            
            // 2. –ú–£–ó–ò–ß–ù–ò–ô –ü–õ–ï–Ñ–†
            const fileInput = document.getElementById('fileInput');
            const playlist = document.getElementById('playlist');
            const playBtn = document.getElementById('playBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const clearBtn = document.getElementById('clearBtn');
            const progressBar = document.querySelector('.progress-bar');
            
            const audio = new Audio();
            let isPlaying = false;
            let currentTrackIndex = 0;
            let tracks = [];
            
            // –û–±—Ä–æ–±–Ω–∏–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
            fileInput.addEventListener('change', function(e) {
                const files = e.target.files;
                if (files.length === 0) return;
                
                // –î–æ–¥–∞—î–º–æ —Å–Ω—ñ–≥ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –º—É–∑–∏–∫–∏
                addExtraSnow();
                
                tracks = [];
                currentTrackIndex = 0;
                
                // –í–∏–¥–∞–ª—è—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ—Ä–æ–∂–Ω—ñ–π –ø–ª–µ–π–ª–∏—Å—Ç
                if (playlist.children.length === 1 && playlist.children[0].textContent.includes('–ø–æ—Ä–æ–∂–Ω—ñ–π')) {
                    playlist.innerHTML = '';
                }
                
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    const url = URL.createObjectURL(file);
                    
                    const track = {
                        title: file.name.replace(/\.[^/.]+$/, ""),
                        artist: '–ù–µ–≤—ñ–¥–æ–º–∏–π –≤–∏–∫–æ–Ω–∞–≤–µ—Ü—å',
                        src: url,
                        duration: '--:--',
                        file: file
                    };
                    
                    tracks.push(track);
                    
                    const li = document.createElement('li');
                    li.style.padding = '1rem';
                    li.style.borderBottom = '1px solid rgba(116, 185, 255, 0.2)';
                    li.style.cursor = 'pointer';
                    li.style.display = 'flex';
                    li.style.alignItems = 'center';
                    li.style.gap = '1rem';
                    
                    li.innerHTML = `
                        <div style="flex: 1;">
                            <div style="font-weight: 600; color: white;">${track.title}</div>
                            <div style="color: #74b9ff; font-size: 0.8rem;">${track.artist}</div>
                        </div>
                        <div style="color: #4a90e2;">${track.duration}</div>
                    `;
                    
                    li.addEventListener('click', () => {
                        document.querySelectorAll('#playlist li').forEach(item => {
                            item.style.background = 'transparent';
                        });
                        
                        li.style.background = 'rgba(116, 185, 255, 0.1)';
                        currentTrackIndex = i;
                        loadTrack(currentTrackIndex);
                        playTrack();
                        
                        // –î–æ–¥–∞—î–º–æ —Å–Ω—ñ–≥ –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ —Ç—Ä–µ–∫
                        addSnowEffect();
                    });
                    
                    playlist.appendChild(li);
                    
                    // –û—Ç—Ä–∏–º—É—î–º–æ —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å —Ç—Ä–µ–∫—É
                    const tempAudio = new Audio(url);
                    tempAudio.addEventListener('loadedmetadata', function() {
                        const minutes = Math.floor(tempAudio.duration / 60);
                        const seconds = Math.floor(tempAudio.duration % 60);
                        track.duration = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                        li.querySelector('div:last-child').textContent = track.duration;
                    });
                }
                
                // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –ø–µ—Ä—à–∏–π —Ç—Ä–µ–∫
                if (tracks.length > 0) {
                    loadTrack(0);
                    playlist.children[0].style.background = 'rgba(116, 185, 255, 0.1)';
                }
            });
            
            function loadTrack(index) {
                if (tracks.length === 0 || !tracks[index]) return;
                
                const track = tracks[index];
                audio.src = track.src;
                
                // –û–Ω–æ–≤–ª—é—î–º–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                document.querySelector('.player-section div:first-child div:first-child').textContent = track.title;
                document.querySelector('.player-section div:first-child div:last-child').textContent = track.artist;
                
                progressBar.style.width = '0%';
                
                console.log(`üéµ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ: ${track.title}`);
            }
            
            function playTrack() {
                if (tracks.length === 0) return;
                
                audio.play().then(() => {
                    isPlaying = true;
                    playBtn.textContent = '‚è∏';
                    
                    // –î–æ–¥–∞—î–º–æ —Å–Ω—ñ–≥ –ø—Ä–∏ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—ñ
                    addSnowStorm();
                }).catch(error => {
                    console.error('–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è:', error);
                });
            }
            
            function pauseTrack() {
                audio.pause();
                isPlaying = false;
                playBtn.textContent = '‚ñ∂';
            }
            
            playBtn.addEventListener('click', () => {
                if (tracks.length === 0) return;
                
                if (isPlaying) {
                    pauseTrack();
                } else {
                    playTrack();
                }
            });
            
            prevBtn.addEventListener('click', () => {
                if (tracks.length === 0) return;
                
                currentTrackIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
                loadTrack(currentTrackIndex);
                playTrack();
                
                // –û–Ω–æ–≤–ª—é—î–º–æ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è
                updatePlaylistSelection();
                addSnowEffect();
            });
            
            nextBtn.addEventListener('click', () => {
                if (tracks.length === 0) return;
                
                currentTrackIndex = (currentTrackIndex + 1) % tracks.length;
                loadTrack(currentTrackIndex);
                playTrack();
                
                updatePlaylistSelection();
                addSnowEffect();
            });
            
            function updatePlaylistSelection() {
                const items = playlist.querySelectorAll('li');
                items.forEach((item, index) => {
                    if (index === currentTrackIndex) {
                        item.style.background = 'rgba(116, 185, 255, 0.1)';
                    } else {
                        item.style.background = 'transparent';
                    }
                });
            }
            
            clearBtn.addEventListener('click', () => {
                if (confirm('–û—á–∏—Å—Ç–∏—Ç–∏ –ø–ª–µ–π–ª–∏—Å—Ç?')) {
                    tracks = [];
                    currentTrackIndex = 0;
                    audio.src = '';
                    playlist.innerHTML = '<li style="text-align: center; padding: 2rem; color: #74b9ff;">–ü–ª–µ–π–ª–∏—Å—Ç –ø–æ—Ä–æ–∂–Ω—ñ–π. –î–æ–¥–∞–π—Ç–µ —Ç—Ä–µ–∫–∏! ‚ùÑÔ∏è</li>';
                    playBtn.textContent = '‚ñ∂';
                    isPlaying = false;
                    progressBar.style.width = '0%';
                    
                    document.querySelector('.player-section div:first-child div:first-child').textContent = '–û–±–µ—Ä—ñ—Ç—å —Ç—Ä–µ–∫ –∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞';
                    document.querySelector('.player-section div:first-child div:last-child').textContent = '---';
                    
                    // –°–Ω—ñ–≥–æ–≤–∞ –∑–∞–º–µ—Ç—ñ–ª—å –ø—Ä–∏ –æ—á–∏—â–µ–Ω–Ω—ñ
                    createBlizzard();
                }
            });
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É
            audio.addEventListener('timeupdate', () => {
                if (audio.duration > 0) {
                    const progress = (audio.currentTime / audio.duration) * 100;
                    progressBar.style.width = progress + '%';
                }
            });
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ç—Ä–µ–∫
            audio.addEventListener('ended', () => {
                nextBtn.click();
            });
            
            // 3. –§–£–ù–ö–¶–Ü–á –î–õ–Ø –°–ù–Ü–ì–£
            function addSnowEffect() {
                const snowContainer = document.getElementById('snowContainer');
                
                for (let i = 0; i < 15; i++) {
                    const snowflake = document.createElement('div');
                    snowflake.className = 'snowflake';
                    
                    const size = Math.random() * 4 + 1;
                    snowflake.style.width = size + 'px';
                    snowflake.style.height = size + 'px';
                    snowflake.style.left = Math.random() * 100 + 'vw';
                    snowflake.style.top = -10 + 'px';
                    
                    const duration = Math.random() * 3 + 1;
                    snowflake.style.animation = `fall ${duration}s linear forwards`;
                    snowflake.style.opacity = Math.random() * 0.8 + 0.2;
                    
                    snowContainer.appendChild(snowflake);
                    
                    // –í–∏–¥–∞–ª—è—î–º–æ –ø—ñ—Å–ª—è –ø–∞–¥—ñ–Ω–Ω—è
                    setTimeout(() => {
                        if (snowflake.parentNode) {
                            snowflake.parentNode.removeChild(snowflake);
                        }
                    }, duration * 1000);
                }
            }
            
            function addExtraSnow() {
                const snowContainer = document.getElementById('snowContainer');
                
                for (let i = 0; i < 30; i++) {
                    const snowflake = document.createElement('div');
                    snowflake.className = 'snowflake';
                    
                    snowflake.style.width = (Math.random() * 5 + 2) + 'px';
                    snowflake.style.height = snowflake.style.width;
                    snowflake.style.left = Math.random() * 100 + 'vw';
                    snowflake.style.top = -20 + 'px';
                    
                    const duration = Math.random() * 4 + 2;
                    snowflake.style.animation = `fall ${duration}s linear infinite`;
                    snowflake.style.opacity = Math.random() * 0.6 + 0.2;
                    
                    snowContainer.appendChild(snowflake);
                }
                
                console.log('‚ùÑÔ∏è –î–æ–¥–∞–Ω–æ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Å–Ω—ñ–≥ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –º—É–∑–∏–∫–∏');
            }
            
            function addSnowStorm() {
                const snowContainer = document.getElementById('snowContainer');
                
                for (let i = 0; i < 40; i++) {
                    setTimeout(() => {
                        const snowflake = document.createElement('div');
                        snowflake.className = 'snowflake';
                        
                        snowflake.style.width = (Math.random() * 7 + 3) + 'px';
                        snowflake.style.height = snowflake.style.width;
                        snowflake.style.left = Math.random() * 100 + 'vw';
                        snowflake.style.top = -30 + 'px';
                        
                        const duration = Math.random() * 2 + 1;
                        snowflake.style.animation = `fall ${duration}s linear forwards`;
                        snowflake.style.opacity = Math.random() * 0.9 + 0.1;
                        
                        snowContainer.appendChild(snowflake);
                        
                        setTimeout(() => {
                            if (snowflake.parentNode) {
                                snowflake.parentNode.removeChild(snowflake);
                            }
                        }, duration * 1000);
                    }, i * 50); // –°—Ç–≤–æ—Ä—é—î–º–æ –∑ –∑–∞—Ç—Ä–∏–º–∫–æ—é –¥–ª—è –µ—Ñ–µ–∫—Ç—É –∑–∞–º–µ—Ç—ñ–ª—ñ
                }
                
                console.log('‚ùÑÔ∏è –°–Ω—ñ–≥–æ–≤–∞ –∑–∞–º–µ—Ç—ñ–ª—å –ø—Ä–∏ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –º—É–∑–∏–∫–∏!');
            }
            
            function createBlizzard() {
                const snowContainer = document.getElementById('snowContainer');
                
                for (let i = 0; i < 80; i++) {
                    setTimeout(() => {
                        const snowflake = document.createElement('div');
                        snowflake.className = 'snowflake';
                        
                        snowflake.style.width = (Math.random() * 8 + 2) + 'px';
                        snowflake.style.height = snowflake.style.width;
                        snowflake.style.left = Math.random() * 100 + 'vw';
                        snowflake.style.top = -40 + 'px';
                        
                        const duration = Math.random() * 1.5 + 0.5;
                        snowflake.style.animation = `fall ${duration}s linear forwards`;
                        snowflake.style.opacity = Math.random() * 0.9 + 0.1;
                        
                        snowContainer.appendChild(snowflake);
                        
                        setTimeout(() => {
                            if (snowflake.parentNode) {
                                snowflake.parentNode.removeChild(snowflake);
                            }
                        }, duration * 1000);
                    }, i * 20); // –î—É–∂–µ —à–≤–∏–¥–∫–æ –¥–ª—è –µ—Ñ–µ–∫—Ç—É –∑–∞–º–µ—Ç—ñ–ª—ñ
                }
                
                console.log('üå®Ô∏è –°–ò–õ–¨–ù–ê –ó–ê–ú–ï–¢–Ü–õ–¨!');
            }
            
            // 4. –î–æ–¥–∞—î–º–æ —Å–Ω—ñ–≥ –∫–æ–∂–Ω—ñ 10 —Å–µ–∫—É–Ω–¥
            setInterval(() => {
                addExtraSnow();
            }, 10000);
            
            console.log('‚úÖ –ó–∏–º–æ–≤–∏–π –ø–ª–µ—î—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ! –°–Ω—ñ–≥ –ø–∞–¥–∞—î!');
        });
    </script>
</body>
</html>